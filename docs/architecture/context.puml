@startuml context
!pragma layout smetana

skinparam {
    BackgroundColor #1a1a2e
    ArrowColor #7EC8E3
    ArrowFontColor #CCCCCC
    ArrowFontSize 11
    DefaultFontName Arial
    DefaultFontColor #E0E0E0
    DefaultFontSize 12
    RectangleBorderColor #4A90D9
    RectangleBorderThickness 2
    RectangleBackgroundColor #0f3460
    RectangleFontColor #FFFFFF
    RectangleFontSize 13
    PackageBorderColor #FF6B35
    PackageBorderThickness 2
    PackageBackgroundColor #1a1a2e
    PackageFontColor #FF6B35
    PackageFontSize 13
    ActorBorderColor #7EC8E3
    ActorBackgroundColor #0f3460
    ActorFontColor #FFFFFF
    DatabaseBorderColor #561b8d
    DatabaseBackgroundColor #2C0E3F
    DatabaseFontColor #FFFFFF
    NoteBorderColor #27AE60
    NoteBackgroundColor #0D2818
    NoteFontColor #CCCCCC
}

title <size:18><color:#7EC8E3><b>L.I.M.A. â€” System Context</b></color></size>\n<size:12><color:#888888>Local Integrity Multi-modal Architecture v1.0</color></size>

actor "Security\nOperator" as operator #0f3460

package "Local Environment\n[Air-Gapped]" as local {
    rectangle "<b>LIMA Node</b>\n--\nnRF52840 + MPU6050\nZephyr RTOS\nCryptoCell-310\n<i>Detects integrity events\nSigns + broadcasts BLE" as node #0f3460
    rectangle "<b>LIMA Gateway</b>\n--\nRaspberry Pi Zero\nMQTT Broker\nBLE-MQTT Bridge\n<i>Event router\nLocal audit log" as gateway #0f3460
}

rectangle "<b>Push Notification</b>\n--\nPushover / Pushbullet\n<i>Real-time alerts" as push #1a3a2a
rectangle "<b>SIEM / Log Aggregator</b>\n--\nSplunk / ELK / Graylog\n<i>Security event correlation" as siem #1a3a2a
database "<b>Cloud Audit Store</b>\n--\nS3 / Azure Blob\n<i>Immutable audit trail" as cloud #2C0E3F

node --> gateway : <color:#7EC8E3>Integrity Events\nBLE 5.0 / Coded PHY\n[Encrypted + Signed]</color>
gateway --> push : <color:#7EC8E3>Alert\n[HTTPS / API]</color>
gateway --> siem : <color:#7EC8E3>Event Stream\n[Syslog / MQTT]</color>
gateway --> cloud : <color:#7EC8E3>Audit Records\n[HTTPS / TLS]</color>
push --> operator : <color:#AAAAAA>Push Notification\n[Mobile App]</color>
siem --> operator : <color:#AAAAAA>Dashboard / Alert\n[Web UI]</color>

note bottom of node
  <color:#27AE60>Hardware: nRF52840 + MPU6050 + Barometric
  Connectivity: BLE 5.0 Coded PHY (extended range)
  Security: CryptoCell-310 hardware crypto</color>
end note

note bottom of gateway
  <color:#27AE60>Hardware: Raspberry Pi Zero / nRF7002
  Software: Mosquitto MQTT + Python/Node.js
  Storage: Local SQLite audit log</color>
end note

@enduml
